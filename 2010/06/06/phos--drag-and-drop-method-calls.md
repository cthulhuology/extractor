Phos: Drag and Drop Method Calls
================================

So I did a small demo video of some of the new features in <a href="http://github.com/cthulhuology/Phos">Phos</a> that demonstrate some good old ideas from <a href="http://labs.oracle.com/people/randy/">Randy Smith</a>&#39;s work from around 1986.    <a href="http://www.youtube.com/watch?v=3ka4KY7TMTU">David Ungar gave a talk at Stanford</a> where is explained a number of the concepts in Randy&#39;s <i>Alternate Reality Kit</i>.  Anyways see what you can catch here:<br /><br /><object width="480" height="385"><param name="movie" value="http://www.youtube.com/v/SL1DWgTNjJs&hl=en_US&fs=1&"></param><param name="allowFullScreen" value="true"></param><param name="allowscriptaccess" value="always"></param><embed src="http://www.youtube.com/v/SL1DWgTNjJs&hl=en_US&fs=1&" type="application/x-shockwave-flash" allowscriptaccess="always" allowfullscreen="true" width="640" height="480"></embed></object><br /><br /><ol><br /><li>Load a remote object from the server using the Inventory</li><br /><li>Run that object&#39;s display() method</li><br /><li>Inspect the object by right click</li><br /><li>Modify the object by dropping a <i>Block</i> onto the <b>message</b> property</li><br /><li>Create new circle object</li><br /><li>Invoke the <b>color(0,255,0)</b> method of the <i>Circle</i></li><br /><li>Invoke the <b>radius(50)</b> method of the <i>Circle</i></li><br /><li>Add a <b>down</b> method by dropping the block onto the <i>Circle</i>&#39;s <i>mirror</i> object</li><br /><li>Drop a function that when we press a mouse button down on the circle it displays an <i>Alert</i></li><br /><li>Change the method by dropping a new <i>Block</i> function that uses the <i>Circle</i>&#39;s <b>message</b> property</li><br /><li>Drop a <b>message</b> <i>Block</i> onto the <i>Circle&#39;s mirror</i> to add a message property</li><br /><li>Dropped a &#39;You Clicked a Circle!&#39; <i>Block</i> onto the <b>message</b> property to set its value</li><br /><li>Added a <b>up</b> method  that changed the circle&#39;s color to red when the mouse button raised over the <i>Circle</i></li><br /><li>Invoked the <b>radius</b> message using the target&#39;s own radius <b>that.rad + 10</b> to increment by 10</li><br /><li>Notice how the mirror&#39;s property values change as the <i>Circle</i> grows</li><br /><li>Since the <b>Block</b> get stuck over the circle, we send it an <b>at(300,300)</b> message to set its location</li><br /><li>We then shrink it using <b>radius(that.rad - 20)</b><li><br /><li>To demonstrate how one can do animations, we repeatedly send the <b>to(30,30)</b> to move it 30 right, 30 down</li><br /><li>Notice how the <b>x</b> and <b>y</b> properties increment as we send messages!</li><br /></ol><br /><br /><h3>What you get for 1kloc</h3><br /><br />Currently, the base system with support for 3 browsers consists of 932 lines of javascript.  Most of this code is in the 21 core objects.  There are 37 objects in the current system, many of which are used for building out typical parts of standard applications.   Currently the entire environment is being built in itself, and is boot strapped on 236 lines of javascript.  With a little effort this could be reduced to about 60ish.<br /><br /><br /><h3>The Next Generation Backend</h3><br /> The current backend server is a 40 line <a href="http://plackperl.org">Plack</a> server app that I run on <a href="http://github.com/miyagawa/Starman">Starman</a>.  The backend is going to get some love and have a few nice features:<br /><br /><ul><br /><li>Remote Object Proxies - Load and invoke objects stored on other servers!</li><br /><li>Object Discovery Service - Think a distributed CPAN where everyone shares</li><br /><li>Auto Repository - Git integrated directly into the Inventory, with all versions of any object available any time!</li><br /><li>Web Socket Gateway - tunnel communications from in-browser objects to objects in another browser!</li><br /><li>V8 Engine - Integrating Google&#39;s V8 engine directly into the backend for live server side objects</li><br /></ul>